{% extends "base.html" %}

{% block title %}Display Balance{% endblock %}

{% block footer %}



{% endblock %}
{% block body %}

<article>
    <div class="container mt-2 p-2 h5 mx-auto">
        <div
            class="bg-white rounded-lg opacity-75 shadow-lg p-4 mx-auto col-10 col-sm-9 col-md-7 col-lg-6 col-xl-5 col-xxl-9">
            <div class="mb-3 mt-0">
                <h1 class="display-6 text-center p-0">Incomes</h1>
            </div>
            <table class="table text-center p-0">
                <thead>
                    <tr>
                        <th coldspan="3">Category</th>
                        <th>Amount</th>
                    </tr>
                </thead>
                <tbody>
                    {% set totalSumIncomes = 0 %}
                    {% for income in user_incomes %}
                    <tr>
                        <td coldspan="3">{{income.name}}</th>
                        <td>{{income.sum}}</th>
                    </tr>
                    {% set totalSumIncomes = totalSumIncomes + income.sum %}
                    {% for individual in individual_incomes %}
                    {% if individual.nameOfCategory == income.name %}
                    <tr>
                        <td coldspan="3">{{individual.individual_date}}</th>
                        <td>{{individual.individual_amount}}</th>
                    </tr>
                    {% endif %}
                    {% endfor %}
                    {% endfor %}
                    <tr>
                        <th scope="row" coldspan='3'>Total amount</th>
                        <td class="text-dark font-weight-bold h5">{{totalSumIncomes}} </td>
                    </tr>
                </tbody>
            </table>
            <div class="mb-3 mt-0">
                <h1 class="display-6 text-center p-0">Expenses</h1>
            </div>
            <table class="table text-center p-0">
                <thead>
                    <tr>
                        <th scope="col">Category</th>
                        <th scope="col">Amount</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <th scope="row">Total amount</th>
                        <td class="text-dark font-weight-bold h5">
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</article>

{% endblock %}